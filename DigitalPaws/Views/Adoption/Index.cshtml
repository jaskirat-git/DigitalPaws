@model DigitalPaws.Models.ViewModels.SearchViewModel

@{
	ViewData["Title"] = "Pet Adoption List";
}

<style>
	/* General Styles */
	body {
		background-color: #f8f9fa;
		color: #fff;
		font-family: 'Roboto', sans-serif;
	}

	/* Sidebar */
	#sidebar {
		background-color: #ffffff;
		padding: 20px;
		border-radius: 10px;
		box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
	}

	.list-group-item {
		transition: 0.3s;
	}

		.list-group-item:hover {
			background-color: rgba(37, 117, 252, 0.1);
		}

		.list-group-item.active {
			background-color: #2575fc;
			color: white;
		}

	/* Form Elements */
	.form-control:focus {
		border-color: #2575fc;
		box-shadow: 0 0 8px rgba(37, 117, 252, 0.5);
	}

	/* Buttons */
	.btn-primary {
		background-color: #2575fc;
		border: none;
		transition: 0.3s;
	}

		.btn-primary:hover {
			background-color: #1a5bcc;
		}

	.btn-dark {
		background-color: #343a40;
		border: none;
		transition: 0.3s;
	}

		.btn-dark:hover {
			background-color: #23272b;
		}

	/* Card Styling */
	.card {
		border: none;
		border-radius: 15px;
		transition: transform 0.3s;
	}

		.card:hover {
			transform: scale(1.05);
		}

	.card-body {
		background-color: #f8f9fa;
		border-radius: 10px;
		color: #333;
	}

	.card-img-top {
		border-radius: 10px;
		object-fit: cover;
		height: 250px;
	}

	/* Footer */
	footer {
		text-align: center;
		position: fixed;
		bottom: 0;
		width: 100%;
		padding: 10px 0;
		background: white;
		color: black;
		font-size: 0.9rem;
		box-shadow: 0px -2px 5px rgba(0, 0, 0, 0.1);
	}
</style>

<div class="container-fluid mt-4">
	<div class="row">
		<!-- Sidebar for Filters and Sorting -->
		<aside class="col-md-3 col-lg-2">
			<form id="sidebar" class="form-control" method="get" asp-action="Index">
				<h4 class="text-center text-dark">Filters</h4>
				<hr />

				<!-- Search Form -->
				<div class="form-group">
					<label class="col-form-label-lg text-dark" for="searchTerm">Search</label>
					<input type="text" id="searchTerm" name="searchTerm" value="@Model.SearchTerm" class="form-control" placeholder="Search for pets..." />
				</div>

				<!-- Filter by Availability -->
				<h5 class="mt-3 text-dark">Availability</h5>
				<div class="list-group mb-3">
					<a asp-action="Index" asp-route-availability="" class="list-group-item @(Model.IsAvailable == null ? "active" : "")">All</a>
					<a asp-action="Index" asp-route-availability="available" class="list-group-item @(Model.IsAvailable = true ? "active" : "")">Available</a>
					<a asp-action="Index" asp-route-availability="unavailable" class="list-group-item @(Model.IsAvailable = false ? "active" : "")">Unavailable</a>
				</div>

				<!-- Sort Options -->
				<h5 class="text-dark">Sort By</h5>
				<div class="list-group mb-3">
					<a asp-action="Index" asp-route-sortBy="name" class="list-group-item @(Model.SortBy == "name" ? "active" : "")">Name</a>
					<a asp-action="Index" asp-route-sortBy="breed" class="list-group-item @(Model.SortBy == "breed" ? "active" : "")">Breed</a>
				</div>

				<button type="submit" class="btn btn-primary w-100">Apply Filters</button>
			</form>
		</aside>

		<!-- Main Content Area for Pet Results -->
		<main class="col-md-9 col-lg-10">
			<h2 class="text-center" style="color:black; padding:30">Adopt a Pet</h2>

			@if (Model.AdoptionModels.Count == 0)
			{
				<p class="text-center">No pets found.</p>
			}
			else
			{
				<div class="row">
					@foreach (var pet in Model.AdoptionModels)
					{
						<div class="col-md-6 col-lg-4 mb-4">
							<div class="card h-100">
								<img src="@pet.ImageUrl" class="card-img-top" alt="Pet Image">
								<div class="card-body">
									<h5 class="card-title text-dark">@pet.Name</h5>
									<p class="card-text text-muted">
										<strong>Breed:</strong> @pet.Breed <br />
										<strong>Availability:</strong> @Html.Raw(pet.IsAvailable ? "<span class='text-success'>Available</span>" : "<span class='text-danger'>Not Available</span>")<br />

										<strong>Owner:</strong> @pet.Owner <br />
										<strong>Contact:</strong> @pet.Contact <br />
										<strong>Price:</strong> <span class="text-primary">@pet.Price</span> <br />
									</p>
									<a class="btn btn-dark btn-sm w-100" asp-action="Details" asp-controller="Adoption" asp-route-id="@pet.Id">Adopt Now</a>
								</div>
							</div>
						</div>
					}
				</div>
			}
		</main>
	</div>
</div>

<footer>
	<p>© 2025 DigitalPaws - Pet Adoption Platform</p>
</footer>
